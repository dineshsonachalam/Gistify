(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{176:function(e,t){},252:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(26),c=n.n(o),i=(n(137),n(33)),s=n(105),u=n(95),l=n(31),d="UPDATE_IS_LOGGED_IN_STATUS",h="UPDATE_USER_ID",j="UPDATE_USERNAME",p="UPDATE_GISTS",b="ADD_GIST",f={isLoggedInStatus:!1,userId:"",username:"",gists:[]},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(l.a)(Object(l.a)({},e),{},{isLoggedInStatus:t.payload.isLoggedInStatus});case h:return Object(l.a)(Object(l.a)({},e),{},{userId:t.payload.userId});case j:return Object(l.a)(Object(l.a)({},e),{},{username:t.payload.username});case p:return Object(l.a)(Object(l.a)({},e),{},{gists:Object(u.a)(t.payload.gists)});case b:var n=t.payload.gist,r=e.gists;return Object(l.a)(Object(l.a)({},e),{},{gists:[n].concat(Object(u.a)(r))});default:return Object(l.a)({},e)}},g=Object(s.a)({anyJsonReducer:O}),m=Object(s.b)(g,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),v=n(40),y=n(41),x=n(44),w=n(43),k=n(53),L=n(106),S=n(22),I=n(136),E=n(149),D=n(148),_=n.n(D),C=n(8),A=function(e){var t=e.children,n=e.activeLinkKey,o=e.menuClassName,c=e.theme,i=e.mode,s=e.mobileMenuContent,u=e.placement,l=e.popoverTrigger,d=e.mobileBreakPoint,h=e.closeOnClick,j=Object(r.useState)(0),p=Object(I.a)(j,2),b=p[0],f=p[1],O=Object(r.useState)(!1),g=Object(I.a)(O,2),m=g[0],v=g[1],y=function(){return b<d};Object(r.useEffect)((function(){f(window.innerWidth);var e=_()((function(){return f(window.innerWidth)}));return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]);var x={theme:c?"function"===typeof c?c(y()):c:"dark",mode:i?"function"===typeof i?i(y()):i:"horizontal",selectedKeys:["".concat(n)],className:o},w=a.a.cloneElement(t((function(){return y()&&h?v(!1):null})),x);return y()?Object(C.jsx)(E.a,{content:w,trigger:l,placement:u,visible:m,onVisibleChange:v,children:s(m)}):w};A.defaultProps={mobileBreakPoint:575,placement:"bottom",closeOnClick:!0,popoverTrigger:"click"};var T=A,U=n(56),G=n(259),N=new k.a,R=function(e){Object(x.a)(n,e);var t=Object(w.a)(n);function n(){var e;Object(v.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).LogoutClickEvent=function(e){e.preventDefault(),N.remove("token"),window.location="/"},e}return Object(y.a)(n,[{key:"AuthButton",value:function(){if(this.props.isLoggedInStatus)return Object(C.jsx)(U.a.Item,{style:{float:"right"},className:"menu-home",children:Object(C.jsx)("a",{href:"#",onClick:this.LogoutClickEvent,children:"Logout"})},"/logout");var e="https://github.com/login/oauth/authorize?client_id=".concat("679d07c96656bcd12597","&redirect_uri=").concat("https://api-goanyjson.dineshsonachalam.com","/oauth/redirect");return Object(C.jsx)(U.a.Item,{style:{float:"right"},className:"menu-home",children:Object(C.jsxs)("a",{href:e,children:["Login with github  ",Object(C.jsx)(G.a,{})]})},"/oauth/authorize")}},{key:"render",value:function(){var e=this;return Object(C.jsx)(T,{mobileMenuContent:function(e){return e?Object(C.jsx)("button",{children:"Close"}):Object(C.jsx)("button",{children:"Open"})},menuClassName:"responsive-ant-menu",children:function(t){return Object(C.jsxs)(U.a,{theme:"dark",children:[Object(C.jsx)(U.a.Item,{className:"menu-home",children:Object(C.jsx)("a",{onClick:t,href:"/",children:"GoAnyJSON"})},"/"),e.AuthButton()]})}})}}]),n}(a.a.Component),J=Object(i.b)((function(e){return e.anyJsonReducer}),(function(e){return{}}))(R),P=n(162),z=n(257),B=n(36),M=n(260),F=n(258),X=n(153),V=n.n(X),H=new k.a,K=function(e){Object(x.a)(n,e);var t=Object(w.a)(n);function n(){var e;Object(v.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={fileList:[],uploading:!1},e.handleUpload=function(){var t=e.state.fileList,n=new FormData;t.forEach((function(e){n.append("uploadfile",e,e.name)})),e.setState({uploading:!0});var r="".concat("https://api-goanyjson.dineshsonachalam.com","/gists"),a=H.get("token");H.set("token",a),V()({url:r,method:"post",headers:{Authorization:"Bearer ".concat(a)},processData:!1,data:n,success:function(t){var n=t.gist_id,r="".concat("https://api-goanyjson.dineshsonachalam.com","/gists/").concat(n),o=new Headers;o.append("Authorization","Bearer ".concat(a)),fetch(r,{method:"GET",headers:o,redirect:"follow"}).then((function(e){return e.json()})).then((function(t){return e.props.addGist(t.gistData)})).catch((function(e){return console.log("error",e)})),e.setState({fileList:[],uploading:!1}),P.b.success(t.message)},error:function(){e.setState({uploading:!1}),P.b.error("Conversion failed")}})},e}return Object(y.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.uploading,r=t.fileList,a={onRemove:function(t){e.setState((function(e){var n=e.fileList.indexOf(t),r=e.fileList.slice();return r.splice(n,1),{fileList:r}}))},beforeUpload:function(t){return e.state.fileList<2&&e.setState((function(e){return{fileList:[].concat(Object(u.a)(e.fileList),[t])}})),!1},fileList:r};return Object(C.jsxs)(F.a,{title:"Convert YAML/TOML/CSV/EXCEL to JSON and upload to Gist",children:[Object(C.jsx)(z.a,Object(l.a)(Object(l.a)({},a),{},{children:Object(C.jsx)(B.a,{icon:Object(C.jsx)(M.a,{}),children:"Select File"})})),Object(C.jsx)(B.a,{type:"primary",onClick:this.handleUpload,disabled:0===r.length||!1===this.props.isLoggedInStatus,loading:n,style:{marginTop:16},children:n?"Uploading":"Start conversion"})]})}}]),n}(a.a.Component),W=Object(i.b)((function(e){return e.anyJsonReducer}),(function(e){return{addGist:function(t){return e(function(e){return{type:b,payload:{gist:e}}}(t))}}}))(K),Y=n(254),q=Y.a.Footer,Q=function(e){Object(x.a)(n,e);var t=Object(w.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"render",value:function(){return Object(C.jsx)("div",{style:this.props.isLoggedInStatus?{}:{position:"absolute",bottom:0,color:"blue",width:"100%"},children:Object(C.jsxs)(q,{style:{textAlign:"center"},children:[" Developed with \u2764\ufe0f by ",Object(C.jsx)("a",{href:"https://github.com/dineshsonachalam/GoAnyJSON",rel:"noreferrer",target:"_blank",children:"Dinesh Sonachalam"})," \xa9 ",(new Date).getFullYear()]})})}}]),n}(a.a.Component),Z=Object(i.b)((function(e){return e.anyJsonReducer}),(function(e){return{}}))(Q),$=Y.a.Content,ee=new k.a,te=function(e){Object(x.a)(n,e);var t=Object(w.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"LoginPage",value:function(e){if(e){var t="/"+Object(L.a)(e).username;return Object(C.jsx)(S.a,{to:t})}return Object(C.jsxs)("div",{children:[Object(C.jsx)(J,{}),Object(C.jsx)($,{children:Object(C.jsx)("div",{style:{padding:24},children:Object(C.jsx)(W,{})})}),Object(C.jsx)(Z,{})]})}},{key:"render",value:function(){return Object(C.jsx)("div",{children:this.LoginPage(ee.get("token"))})}}]),n}(a.a.Component),ne=Object(i.b)((function(e){return e.anyJsonReducer}),(function(e){return{}}))(te),re=n(97),ae=n.n(re),oe=n(134),ce=n(255),ie=n(256),se=new k.a,ue=function(e){Object(x.a)(n,e);var t=Object(w.a)(n);function n(){var e;Object(v.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).handleDelete=function(t){var n=e.props.gists,r="".concat("https://api-goanyjson.dineshsonachalam.com","/gists/").concat(t),a=se.get("token"),o=new Headers;o.append("Authorization","Bearer ".concat(a)),fetch(r,{method:"DELETE",headers:o,redirect:"follow"}).then((function(e){return e.json()})).then((function(e){return console.log("Key: ,Result: ",t,e)})).catch((function(e){return console.log("error",e)})),e.props.updateGists(n.filter((function(e){return e.key!==t})))},e}return Object(y.a)(n,[{key:"getData",value:function(){var e=Object(oe.a)(ae.a.mark((function e(t,n){var r;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,n);case 2:return r=e.sent,e.abrupt("return",r.json());case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(oe.a)(ae.a.mark((function e(){var t,n,r,a,o;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat("https://api-goanyjson.dineshsonachalam.com","/gists"),n=se.get("token"),(r=new Headers).append("Authorization","Bearer ".concat(n)),a={method:"GET",headers:r,redirect:"follow"},e.next=7,this.getData(t,a);case 7:o=e.sent,this.props.updateGists(o.gistData);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.gists,n=[{title:"Filename",dataIndex:"filename"},{title:"Generated from",dataIndex:"generated_from"},{title:"URL",dataIndex:"url",render:function(e,t,n){return Object(C.jsx)("a",{href:e,target:"_blank",rel:"noreferrer",children:e})}},{title:"Created at",dataIndex:"created_at"},{title:"Operation",dataIndex:"operation",render:function(t,n){return e.props.gists.length>=1?Object(C.jsx)(ce.a,{title:"Sure to delete?",onConfirm:function(){return e.handleDelete(n.key)},children:Object(C.jsx)("a",{children:"Delete"})}):null}}];return Object(C.jsx)("div",{children:Object(C.jsx)(ie.a,{bordered:!0,dataSource:t,columns:n},this.props.gists.length)},this.props.gists.length+1)}}]),n}(a.a.Component),le=Object(i.b)((function(e){return e.anyJsonReducer}),(function(e){return{updateGists:function(t){return e(function(e){return{type:p,payload:{gists:e}}}(t))}}}))(ue),de=new k.a,he=Y.a.Content,je=function(e){Object(x.a)(n,e);var t=Object(w.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"DashboardPage",value:function(e){if(e){var t=Object(L.a)(e);return this.props.updateIsLoggedInStatus(!0),this.props.updateUserId(t.userId),this.props.updateUsername(t.username),Object(C.jsxs)("div",{children:[Object(C.jsx)(J,{}),Object(C.jsxs)(he,{children:[Object(C.jsx)("div",{style:{padding:24},children:Object(C.jsx)(W,{})}),Object(C.jsx)("div",{style:{padding:24},children:this.props.isLoggedInStatus&&Object(C.jsx)(le,{})})]}),Object(C.jsx)(Z,{})]})}return Object(C.jsx)(S.a,{to:"/"})}},{key:"render",value:function(){return Object(C.jsx)("div",{children:this.DashboardPage(de.get("token"))})}}]),n}(a.a.Component),pe=Object(i.b)((function(e){return e.anyJsonReducer}),(function(e){return{updateIsLoggedInStatus:function(t){return e(function(e){return{type:d,payload:{isLoggedInStatus:e}}}(t))},updateUserId:function(t){return e({type:h,payload:{userId:t}})},updateUsername:function(t){return e(function(e){return{type:j,payload:{username:e}}}(t))}}}))(je),be=n(159);var fe=function(){return Object(C.jsx)(be.a,{children:Object(C.jsx)("div",{children:Object(C.jsxs)(S.d,{children:[Object(C.jsx)(S.b,{path:"/",exact:!0,component:ne}),Object(C.jsx)(S.b,{path:"/:username",exact:!0,component:pe})]})})})},Oe=document.getElementById("root");c.a.render(Object(C.jsx)(i.a,{store:m,children:Object(C.jsx)(fe,{})}),Oe)}},[[252,1,2]]]);
//# sourceMappingURL=main.6778bc27.chunk.js.map